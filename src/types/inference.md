# Inference

타입 추론 엔진은 제법 똑똑합니다. 엔진은 단순히 초기화 시점 만으로 타입을 판단하지 않습니다. 초기화 이후에 변수를 어떻게 사용하는지를 보며, 이를 통해 타입을 유추합니다. 아래는 타입 추론의 심화 예제입니다.

```rust 
fn main() {
    // suffix 덕분에, 컴파일러는 `elem`의 타입을 알 수 있습니다.
    let elem = 5u8;

    // 비어있는 벡터 구조를 생성합니다.
    // 벡터는 가변적인 길이를 가진 Array입니다.
    let mut vec = Vec::new();
    // 현 시점에서, 컴파일러는 `vec`의 타입을 정확히 모릅니다.
    // 당장에 `vec`이 벡터라는 것만을 알고 있습니다.

    // 생성한 벡터에 `elem`을 삽입합니다.
    vec.push(elem);

    // 아하! 이제야 컴파일러는 `vec`가 `u8` 타입을
    // 담고있는 벡터임을 알 수 있습니다.

    // 만약, `vec.push(elem)`이 없다면,
    // 명확한 타입 추론이 불가능하기 때문에
    // 컴파일 에러가 발생합니다.
    println!("{:?}", vec);
}
```

위에서 `vec`에 대한 별다른 타입 지정이 없었지만 컴파일링은 정상적으로 진행됩니다! :)